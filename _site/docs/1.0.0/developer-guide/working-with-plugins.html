<!DOCTYPE html>
<html lang="en" class="no-js">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="keywords" content="JavaScript, Linter, Linting, Pluggable, Configurable, Code Quality">
  <meta name="description" content="A pluggable and configurable linter tool for identifying and reporting on patterns in JavaScript. Maintain your code quality with ease.">

    
        <title>Documentation - ESLint - Pluggable JavaScript linter</title>
    


  <link href="http://eslint.org/docs/1.0.0/developer-guide/working-with-plugins" rel="canonical" />
  <link rel="stylesheet" href="/styles/main.936b04d2.css"/>
  <link rel="stylesheet" href="/styles/ads.css"/>
  <link rel="stylesheet" href="/styles/search.css"/>
  <link rel="stylesheet" href="/styles/overrides.css"/>
  <link rel="icon" href="/img/favicon.512x512.png">
  <link rel="alternate" type="application/rss+xml" title="ESLint - Pluggable JavaScript linter" href="http://eslint.org/feed.xml">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-60915033-1', 'eslint.org');
  ga('send', 'pageview');

</script>
  <script src="//use.edgefonts.net/source-sans-pro:n3,n4,n6,n7.js"></script>
  <script src="https://cdn.jsdelivr.net/g/lodash@3.10.1,hogan.js@3.0.2,algoliasearch@3.8.1,autocomplete.js@0.12.0(autocomplete.min.js)"></script>

</head>
<body>



<input type="checkbox" id="eslint-toggle-search" class="eslint-toggle-search-checkbox" />
<header class="navbar navbar-default navbar-demo navbar-fixed-top eslint-nav" id="top" role="banner">
  <div class="container">

    <a href="/" class="navbar-brand"><img alt="ESLint" src="/img/logo.svg" itemprop="image">ESLint</a>

    <div class="eslint-navbar-toggles">
      <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#eslint-navbar" aria-controls="eslint-navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <label for="eslint-toggle-search" class="navbar-toggle eslint-toggle-search-open">
        <span class="sr-only">Open search</span>
        <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
      </label>
    </div>

    <nav id="eslint-navbar" class="collapse navbar-collapse eslint-navbar">
      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">User guide<span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li><a href="/docs/user-guide/configuring">Configuring ESLint</a></li>
            <li><a href="/docs/user-guide/command-line-interface">Command Line Interface</a></li>
            <li><a href="/docs/rules/">Rules</a></li>
            <li class="divider"></li>
            <li><a href="/docs/user-guide/migrating-to-1.0.0">Migrating to v1.0.0</a></li>
            <li><a href="/docs/user-guide/integrations">Integrations</a></li>
          </ul>
        </li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Developer guide<span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li><a href="/docs/developer-guide/architecture">Architecture</a></li>
            <li><a href="/docs/developer-guide/contributing">Contributing</a></li>
            <li><a href="/docs/developer-guide/source-code">Get the Source Code</a></li>
            <li><a href="/docs/developer-guide/development-environment">Setup a Development Environment</a></li>
            <li><a href="/docs/developer-guide/unit-tests">Run the Unit Tests</a></li>
            <li><a href="/docs/developer-guide/working-with-rules">Working with Rules</a></li>
            <li><a href="/docs/developer-guide/working-with-plugins">Working with Plugins</a></li>
            <li><a href="/docs/developer-guide/shareable-configs">Shareable Configs</a></li>
            <li><a href="/docs/developer-guide/nodejs-api">Node.js API</a></li>
            <li><a href="/docs/developer-guide/governance">Governance Model</a></li>
          </ul>
        </li>
        <li><a href="/blog/">Blog</a></li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Demo<span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li><a href="/demo/">ESLint Demo</a></li>
            <li><a href="/parser/">Espree Demo</a></li>
          </ul>
        </li>
        <li><a href="/docs/about/">About</a></li>
      </ul>

      <label for="eslint-toggle-search" class="navbar-toggle eslint-toggle-search-open">
        <span class="sr-only">Open search</span>
        <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
      </label>

      <div class="navbar-form navbar-right eslint-search" role="search">
        <div class="input-group">
          <label class="sr-only" aria-label="Search" for="eslint-search-input">Search</label>
          <div class="eslint-search-input-wrapper">
            <input type="text" class="form-control" id="eslint-search-input" accesskey="s" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search the docs...">
            <label for="eslint-toggle-search" class="eslint-toggle-search-close">
              <span class="sr-only">Close search</span>
              <span class="glyphicon glyphicon-remove-circle" aria-hidden="true"></span>
            </label>
          </div>
        </div>
      </div>
    </nav>

  </div><!-- /.container -->
</header><!-- /.navbar -->

<main class="doc">
  <article class="container">
    <script>
if (document.documentElement.clientWidth > 870) {
document.write('<script async src="//cdn.carbonads.com/carbon.js?zoneid=1673&serve=C6AILKT&placement=eslintorg" id="_carbonads_js"><\/script>');
}
</script>

    <!-- Note: No pull requests accepted for this file. See README.md in the root directory for details. -->

<h1>Working with Plugins</h1>

<p>Each plugin is an npm module with a name in the format of <code>eslint-plugin-&lt;plugin-name&gt;</code>, such as <code>eslint-plugin-jquery</code>. You can also use scoped packages in the format of <code>@&lt;scope&gt;/eslint-plugin-&lt;plugin-name&gt;</code> such as <code>@jquery/eslint-plugin-jquery</code>.</p>

<h2>Create a Plugin</h2>

<p>The module must export an object with a <code>rules</code> property.
This <code>rules</code> property should be an object containing a key-value mapping of rule ID to rule.
The rule ID does not have to follow any naming convention (so it can just be <code>dollar-sign</code>, for instance).</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">rules</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"dollar-sign"</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">context</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// rule implementation ...</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">};</span>
</code></pre></div>
<h3>Processors in Plugins</h3>

<p>You can also create plugins that would tell ESLint how to process files other than JavaScript. In order to create a
processor, object that is exported from your module has to conform to the following interface:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">processors</span><span class="err">:</span> <span class="p">{</span>

    <span class="c1">// assign to the file extension you want (.js, .jsx, .html, etc.)</span>
    <span class="s2">".ext"</span><span class="err">:</span> <span class="p">{</span>
        <span class="c1">// takes text of the file and filename</span>
        <span class="nl">preprocess</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">text</span><span class="p">,</span> <span class="nx">filename</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// here, you can strip out any non-JS content</span>
            <span class="c1">// and split into multiple strings to lint</span>

            <span class="k">return</span> <span class="p">[</span><span class="nx">string</span><span class="p">];</span>  <span class="c1">// return an array of strings to lint</span>
        <span class="p">},</span>

        <span class="c1">// takes a Message[][] and filename</span>
        <span class="nx">postprocess</span><span class="err">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">messages</span><span class="p">,</span> <span class="nx">filename</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// `messages` argument contains two-dimensional array of Message objects</span>
            <span class="c1">// where each top-level array item contains array of lint messages related</span>
            <span class="c1">// to the text that was returned in array from preprocess() method</span>

            <span class="c1">// you need to return a one-dimensional array of the messages you want to keep</span>
            <span class="k">return</span> <span class="p">[</span><span class="nx">Message</span><span class="p">];</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>The <code>preprocess</code> method takes the file contents and filename as arguments, and returns an array of strings to lint. The strings will be linted separately but still be registered to the filename. It&#39;s up to the plugin to decide if it needs to return just one part, or multiple pieces. For example in the case of processing <code>.html</code> files, you might want to return just one item in the array by combining all scripts, but for <code>.md</code> file where each JavaScript block might be independent, you can return multiple items.</p>

<p>The <code>postprocess</code> method takes a two-dimensional array of arrays of lint messages and the filename. Each item in the input
array corresponds to the part that was returned from the <code>preprocess</code> method. The <code>postprocess</code> method must adjust the location of all errors and aggregate them into a single flat array and return it.</p>

<p>You can have both rules and processor in a single plugin. You can also have multiple preprocessors in one plugin.
To support multiple extensions add each one to <code>preprocessors</code> element and point them to the same object.</p>

<h3>Default Configuration for Plugins</h3>

<p>You can provide default configuration for the rules included in your plugin by modifying
exported object to include <code>rulesConfig</code> property. <code>rulesConfig</code> follows the same pattern as
you would use in your .eslintrc config <code>rules</code> property, but without plugin name as a prefix.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">rules</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"myFirstRule"</span><span class="p">:</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"./lib/rules/my-first-rule"</span><span class="p">),</span>
        <span class="s2">"mySecondRule"</span><span class="p">:</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"./lib/rules/my-second-rule"</span><span class="p">)</span>
    <span class="p">},</span>
    <span class="na">rulesConfig</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"myFirstRule"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s2">"mySecondRule"</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="s2">"on"</span><span class="p">]</span>
    <span class="p">}</span>
<span class="p">};</span>
</code></pre></div>
<h3>Peer Dependency</h3>

<p>To make clear that the plugin requires ESLint to work correctly you have to declare ESLint as a <code>peerDependency</code> in your <code>package.json</code>.
The plugin support was introduced in ESLint version <code>0.8.0</code>. Ensure the <code>peerDependency</code> points to ESLint <code>0.8.0</code> or later.</p>
<div class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span><span class="w">
    </span><span class="nt">"peerDependencies"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"eslint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&gt;=0.8.0"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<h3>Testing</h3>

<p>You can test the rules of your plugin <a href="working-with-rules">the same way as bundled ESLint rules</a> using <a href="https://github.com/eslint/eslint-tester"><code>ESLintTester</code></a>.</p>

<p>Example:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="s2">"use strict"</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">linter</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"eslint"</span><span class="p">).</span><span class="nx">linter</span><span class="p">,</span>
    <span class="nx">ESLintTester</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"eslint-tester"</span><span class="p">),</span>
    <span class="nx">eslintTester</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ESLintTester</span><span class="p">(</span><span class="nx">linter</span><span class="p">);</span>

<span class="nx">eslintTester</span><span class="p">.</span><span class="nx">addRuleTest</span><span class="p">(</span><span class="s2">"lib/rules/custom-plugin-rule"</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">valid</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">"var validVariable = true"</span><span class="p">,</span>
    <span class="p">],</span>

    <span class="na">invalid</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="na">code</span><span class="p">:</span> <span class="s2">"var invalidVariable = true"</span><span class="p">,</span>
            <span class="na">errors</span><span class="p">:</span> <span class="p">[</span> <span class="p">{</span> <span class="na">message</span><span class="p">:</span> <span class="s2">"Unexpected invalid variable."</span> <span class="p">}</span> <span class="p">]</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">});</span>
</code></pre></div>
<h2>Share Plugins</h2>

<p>In order to make your plugin available to the community you have to publish it on npm.</p>

<p>Recommended keywords:</p>

<ul>
<li><code>eslint</code></li>
<li><code>eslintplugin</code></li>
</ul>

<p>Add these keywords into your <code>package.json</code> file to make it easy for others to find.</p>

<h2>Further Reading</h2>

<ul>
<li><a href="https://www.npmjs.org/doc/misc/npm-developers.html">npm Developer Guide</a></li>
</ul>

  </article>
</main>

    <hr>

    <div class="container">

      <footer>
        <ul class="list-inline">
          <li><a href="https://groups.google.com/group/eslint">Mailing List</a></li>
          <li><a href="https://github.com/eslint/eslint">GitHub</a></li>
          <li><a href="https://twitter.com/geteslint">Twitter</a></li>
          <li>Copyright &copy; 2013-2015 Nicholas C. Zakas. All rights reserved.</li>
        </ul>
      </footer>
    </div><!-- /.container -->


  <script id="suggestion-item-template" type="text/template">
  
  {{#isCategoryHeader}}<div class="suggestion-category">{{{category}}}</div>{{/isCategoryHeader}}
  <div class="suggestion {{#isCategoryHeader}}suggestion-is-category-header{{/isCategoryHeader}}">
    <div class="suggestion-subcategory-main">{{#isSubcategoryHeader}}{{{subcategory}}}{{/isSubcategoryHeader}}</div>
    <div class="suggestion-content">
      <div class="suggestion-subcategory-secondary">{{{subcategory}}}</div>
      <div class="suggestion-title">{{{title}}}</div>
      <div class="suggestion-text">{{{text}}}</div>
    </div>
  </div>
  
  </script>

  <script src="/js/vendor/jquery-1.10.2.min.js"></script>
  <script src="/js/vendor/bootstrap.min.js"></script>
  <script src="/js/vendor/anchor.min.js"></script>
  <script src="/js/app/search.js"></script>
  <script>
    $(document).ready(function() {
      anchors.add('.doc h2, .doc h3, .doc h4, .blog h2, .blog h3, .blog h4');
      
    });
  </script>
</body>
</html>

