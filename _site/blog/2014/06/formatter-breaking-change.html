<!DOCTYPE html>
<html lang="en" class="no-js">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="keywords" content="JavaScript, Linter, Linting, Pluggable, Configurable, Code Quality">
  <meta name="description" content="A pluggable and configurable linter tool for identifying and reporting on patterns in JavaScript. Maintain your code quality with ease.">

    
        <title>Formatter Breaking Change - ESLint - Pluggable JavaScript linter</title>
    


  <link href="http://eslint.org/blog/2014/06/formatter-breaking-change" rel="canonical" />
  <link rel="stylesheet" href="/styles/main.936b04d2.css"/>
  <link rel="stylesheet" href="/styles/ads.css"/>
  <link rel="stylesheet" href="/styles/search.css"/>
  <link rel="stylesheet" href="/styles/overrides.css"/>
  <link rel="icon" href="/img/favicon.512x512.png">
  <link rel="alternate" type="application/rss+xml" title="ESLint - Pluggable JavaScript linter" href="http://eslint.org/feed.xml">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-60915033-1', 'eslint.org');
  ga('send', 'pageview');

</script>
  <script src="//use.edgefonts.net/source-sans-pro:n3,n4,n6,n7.js"></script>
  <script src="https://cdn.jsdelivr.net/g/lodash@3.10.1,hogan.js@3.0.2,algoliasearch@3.8.1,autocomplete.js@0.12.0(autocomplete.min.js)"></script>

</head>
<body>



<input type="checkbox" id="eslint-toggle-search" class="eslint-toggle-search-checkbox" />
<header class="navbar navbar-default navbar-demo navbar-fixed-top eslint-nav" id="top" role="banner">
  <div class="container">

    <a href="/" class="navbar-brand"><img alt="ESLint" src="/img/logo.svg" itemprop="image">ESLint</a>

    <div class="eslint-navbar-toggles">
      <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#eslint-navbar" aria-controls="eslint-navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <label for="eslint-toggle-search" class="navbar-toggle eslint-toggle-search-open">
        <span class="sr-only">Open search</span>
        <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
      </label>
    </div>

    <nav id="eslint-navbar" class="collapse navbar-collapse eslint-navbar">
      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">User guide<span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li><a href="/docs/user-guide/configuring">Configuring ESLint</a></li>
            <li><a href="/docs/user-guide/command-line-interface">Command Line Interface</a></li>
            <li><a href="/docs/rules/">Rules</a></li>
            <li class="divider"></li>
            <li><a href="/docs/user-guide/migrating-to-1.0.0">Migrating to v1.0.0</a></li>
            <li><a href="/docs/user-guide/integrations">Integrations</a></li>
          </ul>
        </li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Developer guide<span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li><a href="/docs/developer-guide/architecture">Architecture</a></li>
            <li><a href="/docs/developer-guide/contributing">Contributing</a></li>
            <li><a href="/docs/developer-guide/source-code">Get the Source Code</a></li>
            <li><a href="/docs/developer-guide/development-environment">Setup a Development Environment</a></li>
            <li><a href="/docs/developer-guide/unit-tests">Run the Unit Tests</a></li>
            <li><a href="/docs/developer-guide/working-with-rules">Working with Rules</a></li>
            <li><a href="/docs/developer-guide/working-with-plugins">Working with Plugins</a></li>
            <li><a href="/docs/developer-guide/shareable-configs">Shareable Configs</a></li>
            <li><a href="/docs/developer-guide/nodejs-api">Node.js API</a></li>
            <li><a href="/docs/developer-guide/governance">Governance Model</a></li>
          </ul>
        </li>
        <li><a href="/blog/">Blog</a></li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Demo<span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li><a href="/demo/">ESLint Demo</a></li>
            <li><a href="/parser/">Espree Demo</a></li>
          </ul>
        </li>
        <li><a href="/docs/about/">About</a></li>
      </ul>

      <label for="eslint-toggle-search" class="navbar-toggle eslint-toggle-search-open">
        <span class="sr-only">Open search</span>
        <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
      </label>

      <div class="navbar-form navbar-right eslint-search" role="search">
        <div class="input-group">
          <label class="sr-only" aria-label="Search" for="eslint-search-input">Search</label>
          <div class="eslint-search-input-wrapper">
            <input type="text" class="form-control" id="eslint-search-input" accesskey="s" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search the docs...">
            <label for="eslint-toggle-search" class="eslint-toggle-search-close">
              <span class="sr-only">Close search</span>
              <span class="glyphicon glyphicon-remove-circle" aria-hidden="true"></span>
            </label>
          </div>
        </div>
      </div>
    </nav>

  </div><!-- /.container -->
</header><!-- /.navbar -->

<main class="blog">
  <article class="container">
    <script>
if (document.documentElement.clientWidth > 870) {
document.write('<script async src="//cdn.carbonads.com/carbon.js?zoneid=1673&serve=C6AILKT&placement=eslintorg" id="_carbonads_js"><\/script>');
}
</script>

    <h1>Formatter Breaking Change</h1>

<p>In the next minor release of ESLint (which will be 0.7.1 due to us incorrectly pushing 0.6.2 as 0.7.0 last month), there will be a breaking change to the way formatters operate.</p>

<h2>What&#39;s Changing</h2>

<p>Up until this point, formatters were passed a <code>config</code> object that contained the calculated severity for each rule (error or warning) so that this information could be output. With 0.7.1, the severity will now be represented on each message itself as a <code>severity</code> property. All of the built-in formatters have been updated to reflect this change.</p>

<h2>Why Change?</h2>

<p>There were several bugs related to rules being output with the incorrect severity. The most recent was <a href="https://github.com/eslint/eslint/issues/983">#983</a>, which led to the discovery that the config object being passed around didn&#39;t take into account inline rule severity changes. <a href="https://github.com/eslint/eslint/pull/985">#985</a> implemented a change that placed the severity of the message directly onto the message object, meaning the config object was no longer necessary.</p>

<p>The original plan was to deprecate the usage of the config object in formatters for 0.7.1 and remove it in 0.8.0. However, a major refactoring (<a href="https://github.com/eslint/eslint/pull/1013">#1013</a>) led to a separation of responsibilities that made keeping this functionality as-is extremely difficult.</p>

<h2>What You Have To Do</h2>

<p>If you have written a custom formatter for ESLint, then you&#39;ll need to change it to reflect this change. Previously, you may have been calculating severity like this:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">severity</span> <span class="o">=</span> <span class="nx">config</span><span class="p">.</span><span class="nx">rules</span><span class="p">[</span><span class="nx">message</span><span class="p">.</span><span class="nx">ruleId</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">||</span> <span class="nx">config</span><span class="p">.</span><span class="nx">rules</span><span class="p">[</span><span class="nx">message</span><span class="p">.</span><span class="nx">ruleId</span><span class="p">];</span>
</code></pre></div>
<p>To work with 0.7.1, you&#39;ll have to use the <code>severity</code> on the message itself:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">severity</span> <span class="o">=</span> <span class="nx">message</span><span class="p">.</span><span class="nx">severity</span><span class="p">;</span>
</code></pre></div>
<p>If you want your formatter to work with both old and new versions of ESLint, then you&#39;ll need to combine these ways of calculating severity, such as:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">severity</span> <span class="o">=</span> <span class="s2">"severity"</span> <span class="k">in</span> <span class="nx">message</span> <span class="p">?</span> <span class="nx">message</span><span class="p">.</span><span class="nx">severity</span> <span class="p">:</span>
        <span class="p">(</span><span class="nx">config</span><span class="p">.</span><span class="nx">rules</span><span class="p">[</span><span class="nx">message</span><span class="p">.</span><span class="nx">ruleId</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">||</span> <span class="nx">config</span><span class="p">.</span><span class="nx">rules</span><span class="p">[</span><span class="nx">message</span><span class="p">.</span><span class="nx">ruleId</span><span class="p">]);</span>
</code></pre></div>
<h2>Known Affected Modules</h2>

<p>The following is a list of modules available on <a href="https://npmjs.org">npm</a> that are affected by this change:</p>

<ul>
<li><a href="https://www.npmjs.org/package/eslint-stylish">eslint-stylish</a></li>
<li><a href="https://www.npmjs.org/package/eslint-json">eslint-json</a></li>
<li><a href="https://www.npmjs.org/package/eslint-tap">eslint-tap</a></li>
<li><a href="https://www.npmjs.org/package/eslint-path-formatter">eslint-path-reporter</a></li>
</ul>

<p>Note that this list is not exhaustive. You should check any non-bundled ESLint formatters you may be using for compatibility.</p>

<h2>Questions?</h2>

<p>If you have further questions about this change, please contact the <a href="https://groups.google.com/group/eslint">mailing list</a>.</p>

  </article>
</main>

    <hr>

    <div class="container">

      <footer>
        <ul class="list-inline">
          <li><a href="https://groups.google.com/group/eslint">Mailing List</a></li>
          <li><a href="https://github.com/eslint/eslint">GitHub</a></li>
          <li><a href="https://twitter.com/geteslint">Twitter</a></li>
          <li>Copyright &copy; 2013-2015 Nicholas C. Zakas. All rights reserved.</li>
        </ul>
      </footer>
    </div><!-- /.container -->


  <script id="suggestion-item-template" type="text/template">
  
  {{#isCategoryHeader}}<div class="suggestion-category">{{{category}}}</div>{{/isCategoryHeader}}
  <div class="suggestion {{#isCategoryHeader}}suggestion-is-category-header{{/isCategoryHeader}}">
    <div class="suggestion-subcategory-main">{{#isSubcategoryHeader}}{{{subcategory}}}{{/isSubcategoryHeader}}</div>
    <div class="suggestion-content">
      <div class="suggestion-subcategory-secondary">{{{subcategory}}}</div>
      <div class="suggestion-title">{{{title}}}</div>
      <div class="suggestion-text">{{{text}}}</div>
    </div>
  </div>
  
  </script>

  <script src="/js/vendor/jquery-1.10.2.min.js"></script>
  <script src="/js/vendor/bootstrap.min.js"></script>
  <script src="/js/vendor/anchor.min.js"></script>
  <script src="/js/app/search.js"></script>
  <script>
    $(document).ready(function() {
      anchors.add('.doc h2, .doc h3, .doc h4, .blog h2, .blog h3, .blog h4');
      
    });
  </script>
</body>
</html>

